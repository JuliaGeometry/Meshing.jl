<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Internals · Meshing</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Meshing</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../api/">API</a></li><li><a class="toctext" href="../examples/">Examples</a></li><li class="current"><a class="toctext" href>Internals</a><ul class="internal"><li><a class="toctext" href="#Common-1">Common</a></li><li><a class="toctext" href="#Marching-Cubes-1">Marching Cubes</a></li><li><a class="toctext" href="#Marching-Tetrahedra-1">Marching Tetrahedra</a></li><li><a class="toctext" href="#Surface-Nets-1">Surface Nets</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Internals</a></li></ul><a class="edit-page" href="https://github.com/JuliaGeometry/Meshing.jl/blob/master/docs/src/internals.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Internals</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Internals-1" href="#Internals-1">Internals</a></h1><p>The internals of Meshing have been optimized for performance and to be generic. This is some brief documentation on the basic internal functions.</p><h2><a class="nav-anchor" id="Common-1" href="#Common-1">Common</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing._get_cubeindex" href="#Meshing._get_cubeindex"><code>Meshing._get_cubeindex</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">_get_cubeindex(iso_vals, iso)</code></pre><p>given <code>iso_vals</code> and iso, return an 8 bit value corresponding to each corner of a cube. In each bit position,  0 indicates in the isosurface and 1 indicates outside the surface, where the sign convention indicates negative inside the surface</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/common.jl#L2-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing._get_cubeindex_pos" href="#Meshing._get_cubeindex_pos"><code>Meshing._get_cubeindex_pos</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">_get_cubeindex_pos(iso_vals, iso)</code></pre><p>given <code>iso_vals</code> and iso, return an 8 bit value corresponding to each corner of a cube. In each bit position,  0 indicates in the isosurface and 1 indicates outside the surface, where the sign convention indicates positive inside the surface</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/common.jl#L22-L29">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing._determine_types" href="#Meshing._determine_types"><code>Meshing._determine_types</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">_determine_types(meshtype, fieldtype=Float64, facelen=3)</code></pre><p>Given a subtype of AbstractMesh, determine the type of vertex/point and face to use for internal computations.</p><p>Preference is given to the types specified by the Mesh call, and will default to the <code>FieldType</code> for <code>SignedDistanceField</code>, and Point{3,Float64}/Face{3,Int} for direct function sampling.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/common.jl#L42-L51">source</a></section><h2><a class="nav-anchor" id="Marching-Cubes-1" href="#Marching-Cubes-1">Marching Cubes</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing._mc_create_triangles!" href="#Meshing._mc_create_triangles!"><code>Meshing._mc_create_triangles!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">_mc_create_triangles!(vts, fcs, vertlist, cubeindex, FaceType)</code></pre><p>Create triangles by only adding vertices within the voxel. Each face does not share a reference to a vertex with another face.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/marching_cubes.jl#L156-L161">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing._mc_unique_triangles!" href="#Meshing._mc_unique_triangles!"><code>Meshing._mc_unique_triangles!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">_mc_unique_triangles!(vts, fcs, vertlist, cubeindex, FaceType)</code></pre><p>Create triangles by only adding unique vertices within the voxel. Each face may share a reference to a vertex with another face.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/marching_cubes.jl#L199-L204">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing.find_vertices_interp!" href="#Meshing.find_vertices_interp!"><code>Meshing.find_vertices_interp!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">find_vertices_interp!(vertlist, points, iso_vals, cubeindex, iso, eps)</code></pre><p>Find the vertices where the surface intersects the cube</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/marching_cubes.jl#L239-L243">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing.vertex_interp" href="#Meshing.vertex_interp"><code>Meshing.vertex_interp</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">vertex_interp(iso, p1, p2, valp1, valp2, eps = 0.00001)</code></pre><p>Linearly interpolate the position where an isosurface cuts an edge between two vertices, each with their own scalar value</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/marching_cubes.jl#L295-L300">source</a></section><h2><a class="nav-anchor" id="Marching-Tetrahedra-1" href="#Marching-Tetrahedra-1">Marching Tetrahedra</a></h2><pre><code class="language-none">Voxel corner and edge indexing conventions

        Z
        |

        5------5------6              Extra edges not drawn
       /|            /|              -----------
      8 |           6 |              - face diagonals
     /  9          /  10                - 13: 1 to 3
    8------7------7   |                 - 14: 1 to 8
    |   |         |   |                 - 15: 1 to 6
    |   1------1--|---2  -- Y           - 16: 5 to 7
    12 /          11 /                  - 17: 2 to 7
    | 4           | 2                   - 18: 4 to 7
    |/            |/                 - body diagonal
    4------3------3                     - 19: 1 to 7

  /
 X</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing._correct_vertices!" href="#Meshing._correct_vertices!"><code>Meshing._correct_vertices!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">_correct_vertices!(vts, sdf::SignedDistanceField)</code></pre><p>The marchingTetrahedra function returns vertices on the (1-based) indices of the SDF&#39;s data, ignoring its actual bounds. This function adjusts the vertices in place so that they correspond to points within the SDF bounds.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/marching_tetrahedra.jl#L163-L169">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing.procVox" href="#Meshing.procVox"><code>Meshing.procVox</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">procVox(vals, iso::Real, x, y, z, nx, ny,
                vts::Dict, vtsAry::Vector, fcs::Vector,
                eps::Real,
                ::Type{VertType}, ::Type{FaceType}) where {VertType, FaceType}</code></pre><p>Processes a voxel, adding any new vertices and faces to the given containers as necessary.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/marching_tetrahedra.jl#L95-L103">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing.voxEdgeId" href="#Meshing.voxEdgeId"><code>Meshing.voxEdgeId</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">voxEdgeId(subTetIx, tetEdgeIx)</code></pre><p>Given a sub-tetrahedron case and a tetrahedron edge ID, determines the corresponding voxel edge ID.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/marching_tetrahedra.jl#L84-L88">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing.getVertId" href="#Meshing.getVertId"><code>Meshing.getVertId</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getVertId(e, x, y, z, nx, ny,
            vals, iso::Real,
            vts::Dict,
            vtsAry::Vector,
            eps::Real, ::Type{VertType}) where {VertType}</code></pre><p>Gets the vertex ID, adding it to the vertex dictionary if not already present.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/marching_tetrahedra.jl#L58-L67">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing.vertPos" href="#Meshing.vertPos"><code>Meshing.vertPos</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">vertPos(e, x, y, z, vals::NTuple{8,T}, iso::Real, eps::Real, ::Type{VertType}) where {T&lt;:Real, VertType}</code></pre><p>Assuming an edge crossing, determines the point in space at which it occurs. eps represents the &quot;bump&quot; factor to keep vertices away from voxel corners (thereby preventing degeneracies).</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/marching_tetrahedra.jl#L37-L44">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing.vertId" href="#Meshing.vertId"><code>Meshing.vertId</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">vertId(e, x, y, z, nx, ny)</code></pre><p>Determines a unique integer ID associated with the edge. This is used as a key in the vertex dictionary. It needs to be both unambiguous (no two edges get the same index) and unique (every edge gets the same ID regardless of which of its neighboring voxels is asking for it) in order for vertex sharing to be implemented properly.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/marching_tetrahedra.jl#L23-L31">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Meshing.tetIx" href="#Meshing.tetIx"><code>Meshing.tetIx</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">tetIx(tIx, vals, iso::Real)</code></pre><p>Determines which case in the triangle table we are dealing with</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGeometry/Meshing.jl/blob/6a625fa387f8c652385f48d60cedbf1af6dd1066/src/marching_tetrahedra.jl#L6-L10">source</a></section><h2><a class="nav-anchor" id="Surface-Nets-1" href="#Surface-Nets-1">Surface Nets</a></h2><footer><hr/><a class="previous" href="../examples/"><span class="direction">Previous</span><span class="title">Examples</span></a></footer></article></body></html>
